spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/batchdb
    username: postgres
    password: postgres
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    show-sql: false
  batch:
    jdbc:
      initialize-schema: never
    job:
      enabled: false

# Path to legacy CSV data cloned from GitHub (bank_legacy_data)
bankxyz:
  dataDir: ${BANK_DATA_DIR:./data}

# Configuración mejorada de logging para Spring Batch
logging:
  level:
    root: INFO
    org.springframework.batch: INFO
    com.bankxyz.batch: DEBUG                    # Debug para nuestro código
    com.bankxyz.batch.listener: INFO           # Info para listeners
    com.bankxyz.batch.processor: DEBUG         # Debug para procesadores
    com.bankxyz.batch.policy: WARN             # Warn para políticas de skip
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n"
  file:
    name: logs/batch-processing.log
    max-size: 10MB
    max-history: 30
